MENU = '''
        BEM VINDO AO SISTEMA DO BANCO       

[1] DEPÓSITO 
[2] SACAR
[3] EXTRATO
[4] CONFIGURAR LIMITE VALOR DE SAQUE
[0] SAIR

Digite Opção Desejada:
=> '''

saldo = 0
limite = 500
numero_saques = 0
alteracao = 0
LIMITE_SAQUES = 3
NUMERO_DE_ALTERACAO = 3
extrato = ""

while True:
    opcao = input (MENU)

    if opcao == "1":
        print("   *****DEPÓSITO*****   ")
        valor = float(input("Informe o Valor que Deseja Depósitar: \n"))
        if valor > 0:
            saldo += valor 
            extrato += f"Depósito: R$ {valor:.2f} Realizado com Sucesso! \n"
            print("Depósito Realizado com Sucesso! Obrigado por usar nosso Banco!")
        
        else:
            print("Operação Falhou! Valor Informado Invalido, Valor minimo de Depósito R$ 1,00.")
        
    elif opcao == "2":
        print("   *****SACAR*****   ")
        valor = float(input("Informe o Valor que Deseja Sacar: \n"))

      
        excedeu_saldo = valor > saldo
        excedeu_limite = valor > limite
        excedeu_saques = numero_saques >= LIMITE_SAQUES

        if excedeu_saldo:
            print("Operação falhou! Saldo insuficiente revise o Valor de Saldo Disponivel na Conta.")
            

        elif excedeu_limite:
            print("Operação falhou! Excedeu o limite do Valor de Saque.")
        
        elif excedeu_saques:
            print("Operação falhou! Número máximo de saques excedido.")

        elif valor > 0:
            saldo -= valor 
            extrato += f"Saque: R$ {valor:.2f} Realizado Com Sucesso!\n"
            numero_saques += 1

        else:
            print("Operação Falhou! O Valor Informado é Invalido, Valor minimo de Saque R$ 1,00.")


    elif opcao == "3":
        print("\n **********EXTRATO**********")
        print('Não foram relizadas movimentações.' if not extrato else extrato)
        print(f"\nSaldo: R$ {saldo:.2f}")
        print("***************************")   
                      
   

    elif opcao == "4":
            print("   *****AJUSTE SEU LIMITE*****   ")
            AJUSTE = '''
         [1] LIMITE DE VALOR DE SAQUE
         [2] RETORNAR AO MENU PRINCIPAL

         Digite Opção Desejada:
         => '''        
            while True:
                opcao_ajuste = input (AJUSTE) 

                if  alteracao > NUMERO_DE_ALTERACAO:
                
                    print("VOCÊ EXCEDEU O NUMERO MAXIMO DE ALTERAÇÕES DE LIMITE, FAVOR ENTRAR EM CONTATO COM O SEU GERENTE")
                    extrato += f'Tentativa de Alteração de Limite NEGADA \n'
                    print (f'Seu Limite de Saque Atual é {limite}')
                    break

                if  opcao_ajuste == "1":
                 print ("\n   ***AJUSTE DO LIMITE DE VALOR DE SAQUE***   ")
                 print(f"Seu Limite de Saque Atual é {limite}")
                 ajuste_saque = float(input("Digite o Valor para qual deseja alterar: \n"))
                 limite = ajuste_saque
                 alteracao += 1
                 extrato += f'Alteração de valor de Saque Realizada para: R$ {limite:.2f}\n'
                 print("Limite do Valor de Saque Alterado com Sucesso!")    

                
                elif opcao_ajuste == "2":
                 print(" \n")
                 break
            
    elif opcao == "0":
     print ("ENCERRANDO SISTEMA.... \n OBRIGADO POR SER O NOSSO CLIENTE!!! \n" )
     break
else:
 print("Opção Invalida, por favor selecione novamente a opção desejada!")
